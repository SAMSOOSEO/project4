<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rented Bike Count by Season</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body { font-family: sans-serif; }
    svg { border: 1px solid #ccc; }
    .bar { fill: steelblue; }
    .bar:hover { fill: orange; }
    .axis-label { font-size: 14px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Rented Bike Count by Season</h1>
  <div id="chart"></div>

  <script>
    const margin = {top: 40, right: 30, bottom: 50, left: 60};
    const width = 600 - margin.left - margin.right;
    const height = 400 - margin.top - margin.bottom;

    const svg = d3.select("#chart")
      .append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", `translate(${margin.left},${margin.top})`);

    // CSV 파일 불러오기
    d3.csv("bike.csv").then(data => {
      // Seasons별 합계 계산
      const summary = Array.from(
        d3.rollup(data, v => d3.sum(v, d => +d["Rented Bike Count"]), d => d.Seasons),
        ([Season, total]) => ({ Season, total })
      );

      // X축, Y축 스케일
      const x = d3.scaleBand()
        .domain(summary.map(d => d.Season))
        .range([0, width])
        .padding(0.2);

      const y = d3.scaleLinear()
        .domain([0, d3.max(summary, d => d.total)])
        .nice()
        .range([height, 0]);

      // X축
      svg.append("g")
        .attr("transform", `translate(0,${height})`)
        .call(d3.axisBottom(x));

      // Y축
      svg.append("g")
        .call(d3.axisLeft(y));

      // Bars
      svg.selectAll(".bar")
        .data(summary)
        .join("rect")
        .attr("class", "bar")
        .attr("x", d => x(d.Season))
        .attr("y", d => y(d.total))
        .attr("width", x.bandwidth())
        .attr("height", d => height - y(d.total));
    }).catch(err => {
      console.error("CSV 불러오기 오류:", err);
    });
  </script>
<H1>Write up</H1>
  <p>
So far, I have selected an appropriate dataset for my project and have also created the main page of the web application. I focused on organizing the layout to ensure it is user-friendly and easy to navigate. I have started thinking about how to present the data clearly and effectively on the webpage. One of the most challenging parts of the project will likely be deriving meaningful insights from the data through visualization. It will require careful consideration to decide which types of charts best represent the data. Additionally, data processing and transformation will be crucial to ensure the visualizations are accurate and informative. I anticipate that coding and implementing these visualizations might also be quite difficult. Overall, the combination of designing the webpage, processing the data, and choosing the right visualization methods will be the main challenges I need to overcome.
  </p>
</body>
</html>
